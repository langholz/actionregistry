<!DOCTYPE html>
<html>
<head>
    <title>Action Registry Admin</title>
    <script src="http://rawgit.com/visionmedia/superagent/master/superagent.js"></script>
</head>
<body>
<script type="text/javascript">
    function reset() {
        superagent
        .post('/reset')
        .end(function (res) {
            if (!res.ok) {
                throw new Error('Invalid response to /reset. status: ' + res.status);
            }
        });
    }

    function addProvider() {
        superagent
        .post('/provider')
        .send({
            "action": "",
            "Expedia": {
                "target": "http://www.kayak.com/flights/%origin%-%daddr%/%depart/%return%",
                "friendlyName": "Expedia",
                "params": [
                    {"origin": {"friendlyName": "Origin" }},
                    {"destination": {"friendlyName": "Destination" }},
                    {"depart":{ "friendlyName": "Depart Date" }},
                    {"return":{ "friendlyName": "Return Date" }}
                ]
            }
        })
        .end(function (res) {
            if (!res.ok) {
                throw new Error('Invalid response to /action. status: ' + res.status);
            }
        });
    }

    function addAction() {
        superagent
        .post('/action')
        .send({ name: 'Manny', species: 'cat' })
        .end(function (res) {
            if (!res.ok) {
                throw new Error('Invalid response to /action. status: ' + res.status);
            }
        });
    }
</script>
<button type="button" onclick="reset();">Reset</button>
<br>
<br>
<br>
<textarea rows="10" cols="50" style="resize: none;">
    Some PROVIDER to add
</textarea>
<br>
<button type="button" onclick="addProvider();">Add Provider</button>
<br>
<br>
<br>
<textarea rows="10" cols="50" style="resize: none;">
    Some ACTION to add
</textarea>
<br>
<button type="button" onclick="addAction();">Add Action</button>
</body>
</html>
